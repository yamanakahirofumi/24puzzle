# 画像読み込みの仕様

本ドキュメントでは、ユーザーが選択した画像をパズルとして使用する際の加工ルール、サポート形式、および操作手順について定義します。

## 1. サポート形式
以下の画像形式の読み込みをサポートします。
- PNG (.png)
- JPEG (.jpg, .jpeg)
- BMP (.bmp)
- GIF (.gif) ※静止画として処理。

## 2. 画像加工プロセス
読み込まれた画像は、自動的に以下のステップで加工されます。

### 2.1 正方形へのクロップ（中央切り抜き）
元画像のアスペクト比を維持したまま、中央部分を正方形に切り抜きます。
- 横長画像の場合: 左右の両端を均等にカットします。
- 縦長画像の場合: 上下の両端を均等にカットします。

### 2.2 リサイズと分割
クロップされた正方形画像を、5×5 のグリッド（計25個のタイル）に分割します。
- 各タイルは、元の画像の一部を保持します。
- 25番目（右下）のタイルは、ゲーム上の「空きマス」として扱うため、表示されません。

## 3. UI/UX 仕様
- **ファイル選択**:
    - 「画像選択」ボタンを押すと、OS 標準のファイル選択ダイアログが開きます。
- **プレビュー表示**:
    - 読み込み完了後、コントロールパネル内のプレビューエリアに、加工済み（クロップ後）の画像全体が表示されます。
- **エラーハンドリング**:
    - 読み込めない形式や破損したファイルが選択された場合、ユーザーにエラーダイアログを表示し、元の状態を維持します。
