# 1〜24の数字に関する仕様

本ドキュメントでは、24-Puzzleで使用される1から24の数字に関する詳細な仕様を定義します。

## 1. 数字の定義と役割

24-Puzzleにおける数字は、各パネル（タイル）を一意に識別するためのIDであり、同時にそのパネルが配置されるべき「正解の位置（初期位置）」を示します。この数字は、パズルを解く際の重要なヒントとして機能します。

- **数値範囲**: 1から24の整数。
- **ヒントとしての機能**: 各パネルには、完成時にそのパネルが位置すべき場所に対応する番号が常に表示されます。シャッフルされた後も、各パネルに振られた番号は変わりません。
- **パネル枚数**: 24枚。
- **空きマスの扱い**: 25番目の位置（通常は右下隅）は「空きマス」として扱われ、数字パネルは割り当てられません。内部的なインデックスとしては 25 または 0 として扱われる場合があります。

## 2. 正解の配置（ゴール状態）

パズルの完成状態において、数字は以下の順序で配置されます。

- **配置ルール**: 左上から右へ、上から下へと昇順（1, 2, 3...）に並べます。
- **5x5グリッドへのマッピング**:
  | 行 / 列 | 1 | 2 | 3 | 4 | 5 |
  | :--- | :--- | :--- | :--- | :--- | :--- |
  | **1行目** | 1 | 2 | 3 | 4 | 5 |
  | **2行目** | 6 | 7 | 8 | 9 | 10 |
  | **3行目** | 11 | 12 | 13 | 14 | 15 |
  | **4行目** | 16 | 17 | 18 | 19 | 20 |
  | **5行目** | 21 | 22 | 23 | 24 | (空) |

## 3. 数字の表示仕様

### 3.1 通常モード（数字パズル）
- **視認性**: パネルの中央に大きく表示されます。
- **デザイン**: ユーザーが「このパネルは本来どこにあるべきか」を即座に判断できるよう、はっきりとしたフォントと色で表示されます。

### 3.2 画像パズルモード
画像パズルでは、数字は画像完成のための直接的なヒントとして機能します。
- **表示位置**: 各パネルの右下隅。
- **重畳表示**: 分割された画像の上に重ねて表示されます。
- **表示切り替え（補助機能）**: 設定（チェックボックス）により、表示/非表示を切り替えることが可能です。これにより、難易度の調整や完成図の確認が容易になります。
- **装飾**: 画像の明暗に関わらず読み取れるよう、アウトラインやドロップシャドウが適用されます。
    - テキスト色: 白色
    - 縁取り/影: 黒色
    - 不透明度: 60-80%（背景の画像を過度に隠さないため）

## 4. 内部的な取り扱い

- **座標計算**: 数字 `n` の正解座標 `(x, y)` は、0オリジンの場合以下のように算出されます（1 ≤ n ≤ 24）。
    - `x = (n - 1) % 5`
    - `y = (n - 1) / 5`
- **シャッフル時の利用**: シャッフルアルゴリズムや解の判定において、各パネルの現在位置と数字（正解位置）を比較するために使用されます。
