# UI/UX 仕様

本ドキュメントでは、24-Puzzle の画面構成、操作感、およびユーザー体験に関する詳細を定義します。

## 1. 画面構成
アプリケーションは単一のウィンドウで構成され、以下の要素を含みます。

### 1.1 パズルエリア
- 5×5 のグリッドで構成されます。
- 各マスには数字パネルまたは画像の一部が表示されます。
- 空きマスは 1 つだけ存在し、通常は背景色（例：黒またはグレー）で示されます。

### 1.2 コントロールパネル
パズルエリアの横または下に配置され、以下の要素を含みます。
- **手数表示 (Move Count)**: 現在の移動回数を表示します。
- **タイマー (Timer)**: ゲーム開始からの経過時間を表示します（形式: `mm:ss`）。
- **シャッフル/開始ボタン**: パズルをランダムに並べ替え、ゲームを開始します。
- **画像選択ボタン**: ユーザーがローカルの画像ファイル（PNG, JPEG 等）を選択するためのファイルダイアログを開きます。
- **リセットボタン**: 現在のゲームを中断し、初期状態（完成図）に戻します。
- **数字表示の切り替え**: 画像パズル時に、パネル上の数字（正解の位置を示す番号）の表示/非表示を切り替えるチェックボックスです。

### 1.3 画像パズル時の数字表示
画像パズルをプレイする際、各パネルには以下の仕様で数字が表示されます。
- **配置**: 各パネルの右下隅に配置されます。
- **視認性の確保**: 画像の邪魔にならないよう、数字は小さめに表示されます。また、どのような背景（画像）の上でも読み取れるよう、以下の装飾を施します。
    - 白色のテキストに黒色の縁取り（アウトライン）またはドロップシャドウを適用します。
    - 適度な半透明度（例：不透明度 60-80%）を持たせます。
- **デフォルト設定**: 初心者の補助を目的として、初期状態では「表示」に設定されます。

## 2. 操作方法
- **パネルの移動**:
    - 空きマスに隣接するパネルをクリックまたはタップすると、そのパネルが空きマスの位置にスライドします。
    - 移動可能なパネルにマウスカーソルを合わせた際、視覚的なフィードバック（ハイライト等）を与えることが推奨されます。
- **キーボード操作 (オプション)**:
    - 矢印キーを使用して、空きマスに隣接するパネルを動かすことができます。

## 3. ユーザー体験 (UX)
- **アニメーション**:
    - パネルの移動は瞬時ではなく、滑らかなスライドアニメーションを伴うことで、移動の方向性を分かりやすくします。
- **勝利演出**:
    - パズルが完成した際、ダイアログを表示して祝福し、最終的な手数とタイムを示します。
- **エラー表示**:
    - サポート外の画像形式を選択した場合や、画像の読み込みに失敗した場合は、分かりやすいエラーメッセージを表示します。

## 4. 画面遷移図（簡易）
1. **起動時**: 完成した状態（またはデフォルト画像）のパズルが表示される。
2. **シャッフル後**: タイマーが動き出し、ゲームプレイ開始。
3. **完成時**: タイマー停止。結果ダイアログ表示。
