# エラーハンドリング方針

本プロジェクトにおけるエラーハンドリングの基本方針と、具体的な各ケースでの対応を定義します。

## 1. 基本方針

- **ユーザー体験の維持**: エラーが発生した場合でも、可能な限りゲームの進行を妨げないように制御します。
- **適切なフィードバック**: ユーザー起因のエラー（不適切なファイル選択など）に対しては、分かりやすいメッセージを表示します。
- **例外設計**: 
    - 検査例外は極力避け、実行時例外を活用します。
    - 低レイヤーの例外（`IOException`等）は、レイヤーに適した例外にラップして再スローするか、内部で適切に処理します。
    - クラスの `public` メソッドからは、`IOException` を直接スローしないようにします。

## 2. 具体的なシナリオと対応

### 2.1 画像読み込み・ファイル IO
- **非対応のファイル形式**: サポート外の拡張子や、破損した画像ファイルが選択された場合、エラーメッセージを表示し、読み込みを中断します。現在の画像（またはデフォルトの状態）を維持します。
- **アクセス権限不足**: ファイルが存在しない、または読み取り権限がない場合、適切に例外をキャッチし、ユーザーに通知します。
- **メモリ管理**: 極端に巨大な解像度の画像を読み込もうとした際の `OutOfMemoryError` を防ぐため、読み込み時に適切なリサイズを行い、不要なオブジェクトは速やかに破棄します。

### 2.2 実行時エラー
- 予期せぬ実行時エラーが発生した場合は、ロギング方針に従ってログを出力し、アプリケーションが異常終了しないように保護します。

## 3. 関連ドキュメント
- [ロギング方針](Logging-Policy.md): エラー発生時のログ出力詳細
- [コーディング規約](Coding-Convention.md): 例外設計のコードレベルでの定義
- [画像読み込みの仕様](../features/Image-Loading-Specification.md): 画像読み込み時のユーザー向け挙動
